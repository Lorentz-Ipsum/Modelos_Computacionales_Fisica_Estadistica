<!DOCTYPE html>
<html lang="es">

  <head>
    <title>Kac</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="../img/favicon.ico">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/bootstrap-slider.min.css">
    <!-- Activamos el código Javascript de Bootstrap y de jQuery -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../js/bootstrap.js"></script>
    <script src="../js/bootstrap-slider.min.js"></script>
    <!-- Numeric.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"> </script>
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- Importamos MathJax para visualizar LaTeX -->

    <style type="text/css">
      body {
        padding: 45px 0 0 0;
      }

      blockquote {
        font-size: 16px !important;
        font-style: italic;
      }
    </style>
    <style media="screen">
      .main-content {
        padding: 3rem 1.5rem;
      }
    </style>

  </head>

  <body>
    <!-- Contenedor
    ================================================== -->
    <div class="container">

      <!-- Barra de navegación ======================= -->
      <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="../index.html">\(\int f(x) dx\)</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample03" aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Elementos que se agrupan al minimizar-->
        <div class="collapse navbar-collapse" id="navbarsExample03">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../Memoria.html">Memoria</a>
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
            </li> -->
            <li class="nav-item dropdown active">
              <a class="nav-link dropdown-toggle" href="#" id="dropdownApplets" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Applets</a>
              <div class="dropdown-menu" aria-labelledby="dropdownApplets">

                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="LimiteCentral.html">Teorema del límite central</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="Kac.html">Anillo de Kac</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="Osciladores.html">Conjunto de osciladores armónicos</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Transformaciones sobre el espacio de fases</h6>
                <a class="dropdown-item" href="Transformaciones.html#baker">Transformación del panadero</a>
                <a class="dropdown-item" href="Transformaciones.html#arnold">Transformación de Arnold</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Gas ideal</h6>
                <a class="dropdown-item" href="Fluctuaciones.html">Expansión libre de un gas</a>
                <a class="dropdown-item" href="Macrocanonica.html">Colectividad macrocanónica</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="Bosefermi.html">Estadísticas de bosones y fermiones</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Modelo de Ising</h6>
                <a class="dropdown-item" href="Ising.html#magnet">Magnetización y transiciones de fase</a>
                <a class="dropdown-item" href="Ising.html#lt">Dimensionalidad y límite termodinámico</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Extra: Vibraciones moleculares</h6>
                <a class="dropdown-item" href="Vibraciones.html#diatomicas">Gas de moléculas diatómicas</a>
                <a class="dropdown-item" href="Vibraciones.html#debye">Teoría de Debye de los sólidos cristalinos</a>
                <div class="dropdown-divider"></div>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../Codigos.html">Códigos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../Bibliografia.html">Bibliografía</a>
            </li>
            <li class="nav-item">
            </li>
          </ul>
          <ul class="navbar-nav">
            <li>
              <a class="nav-link" href="../About.html">About</a>
            </li>
          </ul>
          <!-- <form class="form-inline my-2 my-md-0">
            <input class="form-control" type="text" placeholder="Search">
          </form> -->
        </div>
      </nav>

      <!-- Contenidos  ================================================== -->
      <div class="container" role="main">
        <div class="main-content">
          <h2 id="ring">Anillo de Kac</h2>

          <p class="text-justify">
            El modelo del anillo de Kac <a href="../Bibliografia.html#ref-salcido">[salcido]</a> es un sencillo modelo matemático
            que ilustra la compatibilidad entre estados macroscópicos y microscópicos,
            el tiempo de recurrencia de Poincaré y otros aspectos de teoría cinética
            que en principio pueden parecer paradójicos.
            Su dinámica es la siguiente:
          </p>
          <blockquote class="blockquote w-100">
            <h4>Modelo del anillo de Kac</h4>

            <p class="text-justify">
              Disponemos $N$ casillas en un círculo. En cada casilla colocamos una bolita, que puede ser de color azul o rojo.
              También marcamos al azar $M$ sitios o ``túneles'' entre bolitas.
              En cada instante de tiempo las bolitas saltan de su casilla a la contigua,
              siguiendo el sentido de las agujas del reloj.
              Si en este salto una bolita pasa sobre uno de los $M$ sitios marcados, al llegar a la nueva casilla habrá cambiado de color.
            </p>
          </blockquote>

          <p class="text-justify">
            Con estas reglas, el modelo es reversible y periódico.
            Al cabo de $T = 2N$ iteraciones, cada partícula ha dado dos vueltas completas al círculo,
            y ha cambiado de color un número par de veces, $2M$.
            Es decir, habrá vuelto a su color y posición original.
            Si $M$ es par, con $T=N$ iteraciones es suficiente.
            Este periodo se corresponde con el tiempo de recurrencia de Poincaré <a href="../Bibliografia.html#ref-gottwald">[gottwald]</a>.
          </p>
          <p class="text-justify">
            Podemos describir el sistema estudiando el <i>número de bolitas de cada color</i> que hay en cada instante de tiempo:
            $B(t)$ para las azules y $R(t)$ para las rojas.
            Definamos también la <i>cantidad de bolitas que tienen un sitio marcado delante</i>
            (y que por tanto cambiarán de color en el siguiente instante de tiempo) como $b(t)$ y $r(t)$.
            En estos términos las ecuaciones de evolución o ecuaciones de balance del sistema serán:
          </p>

          \begin{equation}\label{eq:kacEvol}
          B(t+1) = B(t) - b(t) + r(t), \qquad
          R(t+1) = R(t) - r(t) + b(t)
          \end{equation}

          <p class="text-justify">
            Con estas ecuaciones no disponemos de información suficiente para resolver la dinámica del sistema.
            Necesitamos una hipótesis adicional, que consiste en considerar que la fracción de bolas <i>de un color</i>
            que tiene delante un sitio marcado es la misma que la fracción <i>total</i> de bolas con un sitio marcado delante:
          </p>

          \begin{equation}\label{eq:kacHip}
          \frac{b(t)}{B(t)} = \frac{r(t)}{R(t)} = \frac{b(t) + r(t)}{B(t) + R(t)} = \frac{M}{N} \equiv \eta
          \end{equation}

          <p class="text-justify">
            Gracias a esta hipótesis, podemos resolver las ecuaciones \eqref{eq:kacEvol}, restándolas entre sí, para obtener:
          </p>

          \begin{equation}\label{eq_kacSol}
          \begin{aligned}
          B(t)-R(t) &=\left(1-2 \frac{M}{N}\right)\left[B(t-1)-R(t-1)\right] \\
          &=\left(1-2 \eta\right)^{t}\left[B(0)-R(0)\right]
          \end{aligned}
          \end{equation}

          <p class="text-justify">
            Esta solución nos dice que, pasado un número grande de iteraciones, la diferencia en el número de bolas de cada color tiende a cero,
            y que por tanto el sistema <i>no es periódico ni reversible</i>,
            lo cual contradice nuestro modelo de partida.
            Esta discrepancia viene de la hipótesis \eqref{eq:kacHip}.
          </p>
          <p class="text-justify">
            Esta hipótesis juega un papel similar al de la hipótesis de caos molecular
            en la ecuación de Boltzmann <a href="../Bibliografia.html#ref-haro">[haro]</a>:
            elimina las correlaciones entre las componentes de nuestro sistema.
            Es por esto que puede considerarse una hipótesis que aplicamos a la descripción <i>macroscópica</i> del sistema.
            Al eliminar las correlaciones que se crean en el sistema, perdemos la información de reversibilidad.
          </p>
          <p class="text-justify">
            La realidad es que el modelo de Kac como lo hemos enunciado no satisface la condición \eqref{eq:kacHip},
            aunque se aproxime a ella en el límite $N \rightarrow \infty$.
            Podríamos modificar el modelo, de forma que la ubicación de los sitios marcados cambie cada cierto número de iteraciones
            (menor que el tiempo de recurrencia), y así sí se satisfaría la hipótesis de caos molecular.
          </p>
          <hr>
          <!-- EXPLICACION DE LA INTERFAZ -->
          <div class="alert alert-dark bg-light" role="alert">
            <p class="text-justify">
              En el primer panel de la simulación se visualiza el anillo, con los sitios marcados representados por líneas verdes.
              El anillo exterior representa la configuración inicial, y el interior la evolución temporal.
              El segundo panel dibuja la diferencia entre el número de bolas rojas y azules.
            </p>
            <p class="text-justify">
              Se pueden elegir <button type="button" class="btn btn-dark btn-sm py-0">N</button>, <button type="button" class="btn btn-dark btn-sm py-0">M</button>,
              y la <button type="button" class="btn btn-dark btn-sm py-0">Distribución de colores de las bolas</button>,
              así como la velocidad a la que evoluciona el sistema.
              Las distribuciones disponibles para elegir los colores son: azules y rojas alternadas, aleatorios,
              aleatorios con un $70\%$ de bolas azules y $30\%$ de rojas, o todas azules.
            </p>
            <p class="text-justify">
              Para los dos últimos casos se dibuja además la solución \eqref{eq_kacSol} en azul.
              Se puede apreciar que para tiempos cortos es válida, pero a tiempos largos la recurrencia del sistema se hace evidente.
            </p>
            <p class="text-justify">
              Como ya hemos dicho, una posible mejora del programa sería añadir la opción de recalcular los sitios marcados cada cierto tiempo,
              en cuyo caso la diferencia de colores sí que seguiría la curva azul antes mencionada.
              Otra forma de ampliarlo sería añadir una opción para elegir cómo se distribuyen los sitios marcados.
              Por ejemplo, cuando todos los sitios se sitúan en posiciones adyacentes, la diferencia de colores se mantendrá casi constante,
              salvo por pequeñas fluctuaciones que ocurren periódicamente.
              Se puede encontrar una discusión más detallada de este modelo en <a href="../Bibliografia.html#ref-haro">[haro]</a>.
            </p>
          </div>
          <hr>
          <!-- El applet empieza aqui -->
          <div style="text-align: center">
            <div class="card card-body bg-light">
              <div class="row">
                <div class="col-md">
                  <canvas id="anilloExt" width="400" height="400" style="position:absolute;"></canvas>
                  <canvas id="anilloInt" width="400" height="400" style="position:relative;"></canvas>
                </div>
                <div class="col-md" style="max-height:400px">
                  <div id="graph" style="height: 400px;">
                    <!-- Plotly chart will be drawn inside this DIV -->
                  </div>
                </div>
              </div>
            </div>
            <br>
            <!-- BOTONERA -->
            <form class="form-group card card-body bg-light">
              <div data-name="numero" class="form-group">
                <div class="row" style="text-align: right">
                  <div class="col-md-4">
                    <label class="font-weight-bold">Numero de partículas: &nbsp;<span id="numeroLectura">20</span></label>
                  </div>
                  <div class="col-md-8">
                    <input type="range" id="numeroSlider" class="slider custom-range" name="numeroSlider" onchange="updateNum()" min="1" max="50" value="20" step="1">
                  </div>
                </div>
              </div>
              <div data-name="sectores" class="form-group">
                <div class="row" style="text-align: right">
                  <div class="col-md-4">
                    <label class="font-weight-bold">Número de sectores: &nbsp;<span id="sectorLectura">5</span></label>
                  </div>
                  <div class="col-md-8">
                    <input type="range" id="sectorSlider" class="slider custom-range" name="sectorSlider" onchange="updateSec()" min="1" max="50" value="5" step="1">
                  </div>
                </div>
              </div>
              <div data-name="tipo" class="form-group">
                <div class="row" style="text-align: right">
                  <div class="col-md-4">
                    <label class="font-weight-bold" for="stateSelect" class="font-weight-bold">Distribución:</label>
                  </div>
                  <div class="col-md-8">
                    <select id="stateSelect" name="stateSelect" onchange="updateState()" class="form-control">
                      <option value="0">Alternando</option>
                      <option value="1">Aleatorio (30 rojas / 70 azules)</option>
                      <option value="2">Aleatorio (70 rojas / 30 azules)</option>
                      <option value="3">Aleatorio (50/50)</option>
                      <option value="4">Todas azules</option>
                      <option value="5">Todas rojas</option>
                    </select>
                  </div>
                </div>
              </div>
              <div data-name="velocidad" class="form-group">
                <div class="row" style="text-align: right">
                  <div class="col-md-4">
                    <label class="font-weight-bold">Velocidad: &nbsp;<span id="velocidadLectura">1</span></label>
                  </div>
                  <div class="col-md-8">
                    <input type="range" id="velocidadSlider" class="slider custom-range" name="velocidadSlider" onchange="updateVel()" min="1" max="10" value="1" step="1">
                  </div>
                </div>
              </div>
              <div data-name="botones" class="form-group">
                <div class="row" style="text-align: center">
                  <div class="col-md-12">
                    <input id="startButton" type="button" onclick="startStop()" value="  Start  " class="btn btn-primary">
                    <input id="resetButton" type="button" onclick="resetPlot()" value="  Reset  " class="btn btn-danger">
                  </div>
                </div>
              </div>
            </form>
          </div>
          <!-- Controles para siguiente y anterior simulacion -->
          <hr>
          <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
              <li class="page-item">
                <a class="page-link previous" href="LimiteCentral.html" tabindex="-1">Anterior</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="Osciladores.html">Siguiente</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="Kac.js"></script>
    <!-- CODIGO DE DERIVATIVE BY MAURICIO POPP -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
    <script src="../js/mathjax-config.js"> </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <style>
      svg text {
        font-size: 10px;
      }

      svg .title {
        font-size: 25px;
      }

      .function-plot {
        margin: 0px auto 20px;
        display: block;
      }

      .function-plot text {
        font-size: 15px;
      }
    </style>
  </body>

</html>