<!DOCTYPE html>
<html lang="es">

  <head>
    <title>Transformaciones</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="../img/favicon.ico">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <!-- Activamos el código Javascript de Bootstrap y de jQuery -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../js/bootstrap.js"></script>
    <!-- Numeric.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"> </script>
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- Importamos MathJax para visualizar LaTeX -->
    <!-- Cosas extra de jasondavies -->
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link rel="stylesheet" href="catmap.css">
    <!-- <link href="jquery-ui-1.css" rel="stylesheet"> -->
    <script src="jquery.js"></script>
    <script src="jquery-ui-1.js"></script>
    <style type="text/css">
      body {
        padding: 45px 0 0 0;
      }

      /* Create three equal columns that floats next to each other */
      .column {
        float: left;
        width: 50%;
      }

      /* Clear floats after the columns */
      .row:after {
        content: "";
        display: table;
        clear: both;
      }

      /* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */
      @media screen and (max-width: 600px) {
        .column {
          width: 100%;
        }

        .container {
          display: flex;
        }

        .fixed {
          width: 300px;
        }

        .flex-item {
          flex-grow: 1;
        }
      }
    </style>
    <style media="screen">
      .main-content {
        padding: 3rem 1.5rem;
      }
    </style>

  </head>

  <body>
    <!-- Contenedor
    ================================================== -->
    <div class="container">

      <!-- Barra de navegación ======================= -->
      <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="../index.html">\(\int f(x) dx\)</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample03" aria-controls="navbarsExample03" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Elementos que se agrupan al minimizar-->
        <div class="collapse navbar-collapse" id="navbarsExample03">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="../index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../Memoria.html">Memoria</a>
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
            </li> -->
            <li class="nav-item dropdown active">
              <a class="nav-link dropdown-toggle" href="#" id="dropdownApplets" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Applets</a>
              <div class="dropdown-menu" aria-labelledby="dropdownApplets">
                <a class="dropdown-item" href="Apps.html">Índice de applets</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="LimiteCentral.html">Teorema del límite central</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="Kac.html">Anillo de Kac</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="Osciladores.html">Conjunto de osciladores armónicos</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Transformaciones sobre el espacio de fases</h6>
                <a class="dropdown-item" href="Transformaciones.html#baker">Transformación del panadero</a>
                <a class="dropdown-item" href="Transformaciones.html#arnold">Transformación de Arnold</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Gas ideal</h6>
                <a class="dropdown-item" href="Gas.html#fluctuaciones">Expansión libre de un gas</a>
                <a class="dropdown-item" href="Gas.html#macro">Colectividad macrocanónica</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="Bosefermi.html">Estadísticas de bosones y fermiones</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Modelo de Ising</h6>
                <a class="dropdown-item" href="Ising.html#magnet">Magnetización y transiciones de fase</a>
                <a class="dropdown-item" href="Ising.html#lt">Dimensionalidad y límite termodinámico</a>
                <div class="dropdown-divider"></div>
                <h6 class="dropdown-header">Extra: Vibraciones moleculares</h6>
                <a class="dropdown-item" href="Vibraciones.html#diatomicas">Gas de moléculas diatómicas</a>
                <a class="dropdown-item" href="Vibraciones.html#debye">Teoría de Debye de los sólidos cristalinos</a>
                <div class="dropdown-divider"></div>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../Codigos.html">Códigos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../Bibliografia.html">Bibliografía</a>
            </li>
            <li class="nav-item">
            </li>
          </ul>
          <ul class="navbar-nav">
            <li>
              <a class="nav-link" href="../About.html">About</a>
            </li>
          </ul>
          <!-- <form class="form-inline my-2 my-md-0">
            <input class="form-control" type="text" placeholder="Search">
          </form> -->
        </div>
      </nav>

      <!-- Contenidos  ================================================== -->
      <div class="container" role="main">
        <div class="main-content">
          <h2 id="transformations">Transformaciones sobre el espacio de fases</h2>

          <p class="text-justify">
            Las transformaciones que presentamos en esta sección pertenecen a una clase llamada mapas o transformaciones caóticas <a href="../Bibliografia.html#ref-dyson">[dyson]</a>. Su relevancia en Física Estadística aparece en el contexto del
            estudio de la
            evolución del espacio de fases $\Gamma$
            de un sistema dinámico, ya que pueden verse como un tipo de función de evolución de sistemas dinámicos <a href="../Bibliografia.html#ref-dorfman">[dorfman]</a>. Ambas tienen además otras aplicaciones en el contexto de la criptografía y en
            teoría de
            la
            información.

          <p class="text-justify">
            Veremos los casos particulaes en que las transformaciones actúan sobre el espacio de dos dimensiones, aunque es posible generalizarlas a un número mayor. La primera es la <i>Transformación del panadero</i>
            (llamada así porque es similar a una
            técnica usada para estirar la masa de la harina). La segunda es la <i>transformación de Arnold</i> (<i>Arnold's Cat Map</i>, ya que Arnold ejemplificó su modelo con la imagen de un gato). Ambas son ejemplos
            de caos determinista y son ergódicas.

          <h3 id="panadero">Transformación del panadero</h3>

          <p class="text-justify">
            Esta transformación actúa sobre el cuadrado unidad $[0,1] \times [0,1]$. Primero comprimimos la dirección $y$ en un factor 1/2 y expandimos la dirección $x$ en un factor 2, desplazando el cuadrado a la
            región $[0,1/2] \times [0,2]$. Entonces, la
            parte de la imagen que sale del cuadrado unidad ($x >1$) se corta y se coloca en la parte superior del intervalo $[0,1]$, restableciendo el cuadrado. La expresión matemática de la transformación para un
            punto $(x,y)$ es:

            \begin{equation}\label{eq:panadero}
            \begin{array}{l}
            {x^{\prime}=2 x(\bmod 1)} \\
            y^{\prime}=\left\{
            \begin{array}{ll}
            {y / 2} & {\text { si } x<1 / 2} \\ {y / 2+1 / 2} & {\text { si } x>1 / 2}
              \end{array}\right.
              \end{array}
              \end{equation}

              <p class="text-justify">
                Puede verificarse de manera sencilla que esta transformación conserva el área del espacio $\Gamma$.
                Esta transformación es ergódica y <i>strong mixing</i>, que quiere decir que al cabo de pocas iteraciones los puntos del espacio de fases se han redistribuido uniformemente.

                <hr>

              <p class="text-justify">
                El funcionamiento applet es muy sencillo, se puede elegir la \button{Imagen} inicial y pulsando el botón \button{Itera} se aplica la transformación. Tras unas cuantas iteraciones, los puntos de la figura
                inicial se han distribuido por todo el
                espacio formando una imagen homogénea.

              <p class="text-justify">
                Una de las opciones es el <i>invariante de Ising-Tartan</i> <a href="../Bibliografia.html#ref-linas">[linas]</a>, un patrón fractal que queda invariante bajo la acción de la transformación del panadero. Debido a la naturaleza discreta
                de
                las
                simulaciones por ordenador, esto no ocurre
                en el applet que presentamos. Si bien es cierto que en las primeras iteraciones la imagen se mantiene casi idéntica, pero al cabo de unas pocas se mezcla como las demás opciones.

                <hr>
                <!-- El applet empieza aqui -->
              <form class=" form-group card card-body bg-light" style="text-align: center">
                <div class="container">
                  <canvas id="canvasBaker" width="400" height="400" style="position:absolute"></canvas>
                  <canvas id="canvasBaker2" width="400" height="400" style="position:relative"></canvas>
                </div>
                <!-- BOTONERA -->
                <div class="container">
                  <div class="form-group col-md-12">
                    <label for="imageSelect">Imagen:</label>
                    <select id="imageSelect" name="imageSelect" onchange="reImage()" class="form-control">
                      <option value="0">f(x)</option>
                      <option value="1">Invariante Ising-Tartan</option>
                      <option value="2">Gato</option>
                    </select>
                  </div>
                  <div>
                    <input id="bakerBtn" value="Itera" type="button" class="btn btn-primary">
                    <input id="remapBtnBaker" value="Reset" type="button" class="btn btn-danger">
                  </div>
                </div>
              </form>
        </div>

        <!-- CAMBIO DE APPLET -->
        <div class="main-content">
          <hr>
          <h3 id="arnold">Transformación de Arnold</h3>

          <p class="text-justify">
            La visión moderna de la mecánica hamiltoniana es que aplicamos transformaciones al espacio de fases que conserven el volumen (por el teorema de Liouville). Citando a Arnold: <cite><i>La mecánica
                hamiltoniana es geometría en el espacio de fases</i></cite>
            <a href="../Bibliografia.html#ref-arnold">[arnold]</a>.
            Un aspecto interesante de esta teoría es que, cuando tenemos un sistema con tantas cantidades conservadas como grados de libertad (en cuyo caso decimos que es integrable), podemos reducir la geometría
            del espacio de fases a la de un toro
            hiperdimensional, usando las llamadas <i>variables acción-ángulo</i>. En estos casos, estudiar la dinámica del sistema se reduce a comprobar si la periodicidad de estas variables acción-ángulo es
            conmensurable. Si el ratio entre sus frecuencias
            es racional, las trayectorias en el espacio de fases serán cerradas. Podemos visualizarlo como una hélice alrededor del toro que vuelve al punto de partida. Si el ratio es irracional, la hélice nunca
            se cierra y el sistema es caótico y ergódico, de
            igual forma que en la simulación \ref{sec:osciladores}.
          </p>
          <p class="text-justify">
            Para visualizar esto, Arnold ideó la transformación matemática que lleva su nombre. Esta pertenece a una clase de transformaciones llamada <i>automorfismos torales</i>. Matemáticamente, podemos
            definir un isomorfismo entre cuadrado y toro
            tridimensional definiendo las condiciones de contorno de forma adecuada. El mapa de Arnold es una transformación de este cuadrado a sí mismo que mantiene dichas condiciones de contorno. Se define en
            función de una matriz $T$, que transforma un
            punto $(x, y)$ en $(x', y')$ según:
          </p>
          \begin{equation}\label{eq:arnold}
          \left(\begin{array}{l}
          {x^{\prime}} \\
          {y^{\prime}}
          \end{array}\right)=T\left(\begin{array}{l}
          {x} \\
          {y}
          \end{array}\right)=\left(\begin{array}{ll}
          {t_{11}} & {t_{12}} \\
          {t_{21}} & {t_{22}}
          \end{array}\right)\left(\begin{array}{l}
          {x} \\
          {y}
          \end{array}\right) \quad(\bmod 1)
          \end{equation}

          <p class="text-justify">
            Las condiciones sobre la matriz $T$ son:
          </p>
          <ul class="list-group">
            <li class="list-group-item">$det(T) = 1$. Esta condición es necesaria para que se conserve el área.</li>
            <li class="list-group-item">Para que el mapa sea ergódico, los autovalores de $T$ deben ser reales y distintos de $1$.</li>
          </ul>

          <p class="text-justify">
            Para garantizar la segunda condición, se suele exigir que los elementos de matriz de $T$ sean enteros positivos, de forma que sus autovectores sean ortogonales, y por tanto un autovalor será mayor que
            $1$ y el otro menor que $1$. La dirección del
            autovector de autovalor mayor que $1$ se expande, y la dirección del otro, se contrae.
            Cuando los autovalores de la matriz $T$ no satisfacen la segunda condición, la transformación de Arnold deja de ser ergódica, y al cabo de un cierto número de iteraciones restablecemos la imágen
            original. Por ejemplo, las matrices de rotación
            tienen autovalores complejos:
          </p>
          $$
          T_{\pi/2} = \begin{pmatrix} 0 & -1 \\ 1 & 0
          \end{pmatrix}, \qquad
          T_\phi = \begin{pmatrix} \cos\phi & \sin\phi \\ \sin\phi & \cos\phi
          \end{pmatrix}
          $$

          <p class="text-justify">
            Además, hay ciertas matrices paticularmente patológicas: aquellas que, aunque tengan autovalores reales, no son diagonalizables. Con estas matrices, el mapa muestra un comportamiento extraño, por
            ejemplo:
          </p>
          $$
          T = \begin{pmatrix} 2 & 0 \\ 1 & 1/2
          \end{pmatrix}, \qquad
          T = \begin{pmatrix} 2 & 1 \\ 0 & 1/2
          \end{pmatrix}
          $$

          <p class="text-justify">
            Hay que hacer notar otra característica de este modelo, y es que la transformación de Arnold sólo puede ser ergódica para el caso continuo <a href="../Bibliografia.html#ref-dyson">[dyson]</a>. En el mapa discreto, aunque se cumplan las
            condiciones enunciadas, siempre habrá periodicidad
            (excepto en las matrices patológicas antes mencionadas).
          </p>
          <hr>

          <p class="text-justify">
            En este applet, además de la \button{Imagen}, se pueden elegir tres de los cuatro \button{Elementos de matriz} de $T$. El cuarto se determina automáticamente a partir de la condición de $\det{T} = 1$.
            Los valores elegidos por defecto son los que
            aparecen en la mayoría de referencias y los que usó Arnold.
            Pulsando en las \button{Flechas} se aplica o se deshace la transformación.
            Se recomienda probar con todas las matrices presentadas, y comprobar sus efectos sobre la imágen.
          </p>
          <p class="text-justify">
            Se puede observar cómo al cabo de cierto número de iteraciones, dependiente de los valores de los elementos de $T$ y de la resolución de la imagen, esta se distribuye uniformemente, como en la
            transformación del panadero. Sin embargo, tarde o
            temprano se volverá a obtener la imagen original, a no ser que se aplique una matriz problemática como las comentadas. Hay que tener cuidado, ya que al no poder controlar el cuarto elemento de matriz,
            puede ser que se elijan valores que den un
            comportamiento patológico sin saberlo.
            Si la matriz elegida lo permite, se puede ver la aplicación repetida de la transformación hasta obtener la imagen original pulsando el botón \button{Itera hasta restablecer la imágen original}.
          </p>
          <p class="text-justify">
            De todas las simulaciones de este trabajo, esta es la que más problemas ha dado a la hora de corregir <i>bugs</i>, e incluso en el día de presentar esta memoria no se han podido resolver todos. Una
            de las razones de esto es la precisión finita
            con que se realizan los cálculos. El programa introduce cierto error de redondeo al tratar con números muy pequeños, lo cual produce errores. Por ejemplo, en ciertos casos al pulsar la flecha hacia
            atrás no se recupera la imagen previa.
          </p>
          <hr>
          <!-- El applet empieza aqui -->
          <form class=" form-group card card-body bg-light" style="text-align: center">
            <div id="preview"><img src="catmap.jpg" /></div>
            <div style="margin: 20px 0">
              <canvas id="vis" width="400" height="400"></canvas>
            </div>
            <!-- BOTONERA -->
            <div id="controls">
              <p class="text-justify">Iteration currently showing: <span id="iteration-count">1</span></p>
              <p class="text-justify">
                <input type="button" value="&lt;&lt;" id="step-back" class="btn btn-primary" />
                <input type="button" value="&gt;&gt;" id="step-forward" class="btn btn-primary" />
                <input type="button" value="Itera hasta restablecer la imágen original" id="play" class="btn btn-warning" />
                <input type="button" value="Reset" id="reset" onclick="resetData()" class="btn btn-danger" />
              </p>
            </div>
            <div class="form-group col-md-12">
              <label for="imageSelectArnold">Imagen:</label>
              <select id="imageSelectArnold" name="imageSelectArnold" onchange="resetData()" class="form-control">
                <option value="0">f(x)</option>
                <option value="1">Invariante Ising-Tartan</option>
                <option value="2">Gato</option>
              </select>
            </div>
            <label for="t11">T11:</label>
            <input type="number" id="t11" class="form-control" name="t11" value="2" step="0.1" onchange="changeValsT()"></br>
            <label for="t12">T12:</label>
            <input type="number" id="t12" class="form-control" name="t12" value="1" step="0.1" onchange="changeValsT()"></br>
            <label for="t21">T21:</label>
            <input type="number" id="t21" class="form-control" name="t21" value="1" step="0.1" onchange="changeValsT()"></br>
          </form>
        </div>
      </div>
    </div> <!-- Final del contenedor -->


    <script src="Baker.js"> </script>
    <script src="Arnold.js"> </script>
    <!-- <script src="Arnold.js"> </script> -->
    <!-- CODIGO DE DERIVATIVE BY MAURICIO POPP -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ['$', '$'],
            ['\\(', '\\)']
          ],
          processEscapes: true,
          processEnvironments: true,
          tags: "ams",
          macros: {
            edge: '\\mathrel{-}',
            notedge: '\\not\\edge',
            deg: ['#1^°', 1],
            tbold: ['\\textbf{#1}', 1],
            mbold: ['\\mathbf{#1}', 1],
            unit: ['\\widehat{\\mathbf{#1}}', 1],
            v: ['\\overrightarrow{#1}', 1],
            vnorm: ['\\norm{\\v{#1}}', 1],
            overunder: ['\\overset{#2}{\\underset{#3}{#1}}', 3],
            cuv: ['\\overunder{#1}{|}{|}', 1],
            magnitude: ['\\left \\| #1 \\right \\|', 1],
            norm: ['\\lvert #1 \\rvert', 1],
            divides: ['\\,|\\,'],
            cost: ['\\cos{\\theta}'],
            sint: ['\\sin{\\theta}'],
            sqrti: ['\\frac{1}{\\sqrt{2}}'],
            ci: ['\\perp\\!\\!\\!\\perp'],
            given: ['\\:\\vert\\:'],
            bordermatrix: ['\\raise{0.7em}{\\begin{matrix} & \\begin{matrix}#1\\end{matrix} \\\\ \\begin{matrix}#2\\end{matrix} \\hspace{-1em} & #3 \\end{matrix}}', 3]
          }
        },
        options: {
          skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          ignoreHtmlClass: 'tex2jax_ignore',
          processHtmlClass: 'tex2jax_process'
        }
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <style>
      svg text {
        font-size: 10px;
      }

      svg .title {
        font-size: 25px;
      }

      .function-plot {
        margin: 0px auto 20px;
        display: block;
      }

      .function-plot text {
        font-size: 15px;
      }
    </style>
  </body>

</html>